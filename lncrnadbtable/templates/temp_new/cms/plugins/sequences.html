{% load sekizai_tags %}
{% autoescape off %}
<div id = '{{ instance.name.split|join:"_"}}' class="{{instance.plugin_type}}">
  <div id='{{ instance.name.split|join:"_"}}' class="entries_header">{{ instance.name }} <span class="css_icon"></span></div>
    <div id='{{ instance.name.split|join:"_"}}' class="entries_body">



	<table id="{{ instance.name }}" class="{{instance.plugin_type}}">{% for row in data %}
		{% if not "" in row %}
		<tr>{% for cell in row %}
			{% if forloop.parentloop.counter <= instance.headers_top or forloop.counter <= instance.headers_left or forloop.parentloop.revcounter <= instance.headers_bottom %}
				<th>{%if cell %}{{ cell }}{% endif %}</th>
			{% else %}
				<td>{% if cell %}{{ cell }}{% endif %}</td>
			{% endif %}
			{% endfor %}
			{% endif %}
		</tr>{% endfor %}
		{% endautoescape %}
	</table>
    </div>
</div>

{% addtoblock "js" %}



<script type="text/javascript">


//$('#' + table_name ).truncate();a
$(document).ready(function(){

  $("#Sequences .SequencesPlugin td").each(function(i,v){
    var count = parseInt($( this).text().length);
    var maxChars = 210;
    if(count > maxChars){
      var str = $(this).text();
      var trimmed = str.substr(0, maxChars);
      $(v).text(trimmed + '...');  


       
  }});
 

})
</script>
{% endaddtoblock %}
